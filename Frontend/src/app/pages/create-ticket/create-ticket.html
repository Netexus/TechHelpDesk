<div class="container">
    <div class="card" style="max-width: 600px; margin: 2rem auto;">
        <h2>Create New Ticket</h2>
        <div *ngIf="error" class="error-msg">{{ error }}</div>

        <form (ngSubmit)="onSubmit()">
            <div class="form-group">
                <label>Title</label>
                <input type="text" [(ngModel)]="ticket.title" name="title" required
                    placeholder="Brief summary of the issue">
            </div>

            <div class="form-group">
                <label>Description</label>
                <textarea [(ngModel)]="ticket.description" name="description" rows="4" required
                    placeholder="Detailed explanation..."></textarea>
            </div>

            <div class="form-group">
                <label>Category</label>
                <select [(ngModel)]="ticket.categoryId" name="categoryId" required>
                    <option value="" disabled>Select a category</option>
                    <option *ngFor="let cat of categories" [value]="cat.id">{{ cat.name }}</option>
                </select>
            </div>

            <div class="form-group">
                <label>Priority</label>
                <select [(ngModel)]="ticket.priority" name="priority" required>
                    <option value="low">Low</option>
                    <option value="medium">Medium</option>
                    <option value="high">High</option>
                </select>
            </div>

            <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                <button type="submit" class="btn btn-primary" style="flex: 1;">Submit Ticket</button>
                <button type="button" class="btn btn-outline" (click)="router.navigate(['/dashboard'])">Cancel</button>
            </div>
        </form>
    </div>
</div>